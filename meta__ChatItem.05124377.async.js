(self.webpackChunk_yuntijs_ui=self.webpackChunk_yuntijs_ui||[]).push([[5815],{59168:function(a,t,n){var o={"./ar.json":[18444,8444],"./be.json":[5401,5401],"./cs.json":[24815,4815],"./de.json":[11976,1976],"./en.json":[28443,8443],"./es.json":[74957,4957],"./fa.json":[45263,5263],"./fi.json":[94234,4234],"./fr.json":[96792,6792],"./hi.json":[80489,489],"./it.json":[59688,9688],"./ja.json":[98465,8465],"./ko.json":[7265,7265],"./nl.json":[67781,7781],"./pl.json":[29630,9630],"./pt.json":[15896,5896],"./ru.json":[59787,9787],"./sa.json":[84757,4757],"./tr.json":[22794,2794],"./uk.json":[54429,4429],"./vi.json":[97655,7655],"./zh.json":[50622,622]};function e(m){if(!n.o(o,m))return Promise.resolve().then(function(){var c=new Error("Cannot find module '"+m+"'");throw c.code="MODULE_NOT_FOUND",c});var d=o[m],u=d[0];return n.e(d[1]).then(function(){return n.t(u,19)})}e.keys=function(){return Object.keys(o)},e.id=59168,a.exports=e},68851:function(a,t,n){"use strict";n.r(t),n.d(t,{demos:function(){return b}});var o=n(90228),e=n.n(o),m=n(87999),d=n.n(m),u=n(75271),c=n(26302),b={"chatitem-demo-demos":{component:u.memo(u.lazy(function(){return n.e(3524).then(n.bind(n,5451))})),asset:{type:"BLOCK",id:"chatitem-demo-demos",refAtomIds:["ChatItem"],dependencies:{"index.tsx":{type:"FILE",value:n(20632).Z},"@lobehub/ui":{type:"NPM",value:"1.147.0"},react:{type:"NPM",value:"18.3.1"},"./data.tsx":{type:"FILE",value:n(57687).Z},"...tsx":{type:"FILE",value:n(47335).Z},"lucide-react":{type:"NPM",value:"0.417.0"},"antd-style":{type:"NPM",value:"3.6.2"},"react-layout-kit":{type:"NPM",value:"1.9.0"},"./components/MessageContent.tsx":{type:"FILE",value:n(81330).Z},"@yuntijs/ui":{type:"NPM",value:"1.0.0-beta.58"},"../style.ts":{type:"FILE",value:n(77459).Z}},entry:"index.tsx"},context:{"@lobehub/ui":n(59806),react:n(75271),"./data.tsx":n(93576),"...tsx":n(48009),"lucide-react":n(68068),"@lobehub/ui/es/ChatItem/components/Actions":n(62231),"@lobehub/ui/es/ChatItem/components/Avatar":n(17757),"@lobehub/ui/es/ChatItem/components/BorderSpacing":n(22809),"@lobehub/ui/es/ChatItem/components/ErrorContent":n(90462),"@lobehub/ui/es/ChatItem/components/Title":n(61397),"@lobehub/ui/es/ChatItem/style":n(15708),"antd-style":n(82517),"react-layout-kit":n(6020),"./components/MessageContent.tsx":n(45791),"@/EditableMessage":n(99335),"../style.ts":n(69714)},renderOpts:{compile:function(){var l=d()(e()().mark(function C(){var M,r=arguments;return e()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.e(9321).then(n.bind(n,19321));case 2:return i.abrupt("return",(M=i.sent).default.apply(M,r));case 3:case"end":return i.stop()}},C)}));function v(){return l.apply(this,arguments)}return v}()}},"chatitem-demo-tmarkdown":{component:u.memo(u.lazy(function(){return n.e(3524).then(n.bind(n,29916))})),asset:{type:"BLOCK",id:"chatitem-demo-tmarkdown",refAtomIds:["ChatItem"],dependencies:{"index.tsx":{type:"FILE",value:n(16251).Z},"@lobehub/ui":{type:"NPM",value:"1.147.0"},react:{type:"NPM",value:"18.3.1"},"./data.tsx":{type:"FILE",value:n(57687).Z},"...tsx":{type:"FILE",value:n(47335).Z},"../../EditableMessage/demos/data.ts":{type:"FILE",value:n(35983).Z},"lucide-react":{type:"NPM",value:"0.417.0"},"antd-style":{type:"NPM",value:"3.6.2"},"react-layout-kit":{type:"NPM",value:"1.9.0"},"./components/MessageContent.tsx":{type:"FILE",value:n(81330).Z},"@yuntijs/ui":{type:"NPM",value:"1.0.0-beta.58"},"../style.ts":{type:"FILE",value:n(77459).Z}},entry:"index.tsx"},context:{"@lobehub/ui":n(59806),react:n(75271),"./data.tsx":n(93576),"...tsx":n(48009),"../../EditableMessage/demos/data.ts":n(59529),"lucide-react":n(68068),"@lobehub/ui/es/ChatItem/components/Actions":n(62231),"@lobehub/ui/es/ChatItem/components/Avatar":n(17757),"@lobehub/ui/es/ChatItem/components/BorderSpacing":n(22809),"@lobehub/ui/es/ChatItem/components/ErrorContent":n(90462),"@lobehub/ui/es/ChatItem/components/Title":n(61397),"@lobehub/ui/es/ChatItem/style":n(15708),"antd-style":n(82517),"react-layout-kit":n(6020),"./components/MessageContent.tsx":n(45791),"@/EditableMessage":n(99335),"../style.ts":n(69714)},renderOpts:{compile:function(){var l=d()(e()().mark(function C(){var M,r=arguments;return e()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.e(9321).then(n.bind(n,19321));case 2:return i.abrupt("return",(M=i.sent).default.apply(M,r));case 3:case"end":return i.stop()}},C)}));function v(){return l.apply(this,arguments)}return v}()}},"chatitem-demo-alert":{component:u.memo(u.lazy(function(){return n.e(3524).then(n.bind(n,29579))})),asset:{type:"BLOCK",id:"chatitem-demo-alert",refAtomIds:["ChatItem"],dependencies:{"index.tsx":{type:"FILE",value:n(81216).Z},"@lobehub/ui":{type:"NPM",value:"1.147.0"},"...tsx":{type:"FILE",value:n(47335).Z},"./data.tsx":{type:"FILE",value:n(57687).Z},"lucide-react":{type:"NPM",value:"0.417.0"},"antd-style":{type:"NPM",value:"3.6.2"},react:{type:"NPM",value:"18.3.1"},"react-layout-kit":{type:"NPM",value:"1.9.0"},"./components/MessageContent.tsx":{type:"FILE",value:n(81330).Z},"@yuntijs/ui":{type:"NPM",value:"1.0.0-beta.58"},"../style.ts":{type:"FILE",value:n(77459).Z}},entry:"index.tsx"},context:{"@lobehub/ui":n(59806),"...tsx":n(48009),"./data.tsx":n(93576),"lucide-react":n(68068),"@lobehub/ui/es/ChatItem/components/Actions":n(62231),"@lobehub/ui/es/ChatItem/components/Avatar":n(17757),"@lobehub/ui/es/ChatItem/components/BorderSpacing":n(22809),"@lobehub/ui/es/ChatItem/components/ErrorContent":n(90462),"@lobehub/ui/es/ChatItem/components/Title":n(61397),"@lobehub/ui/es/ChatItem/style":n(15708),"antd-style":n(82517),react:n(75271),"react-layout-kit":n(6020),"./components/MessageContent.tsx":n(45791),"@/EditableMessage":n(99335),"../style.ts":n(69714)},renderOpts:{compile:function(){var l=d()(e()().mark(function C(){var M,r=arguments;return e()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.e(9321).then(n.bind(n,19321));case 2:return i.abrupt("return",(M=i.sent).default.apply(M,r));case 3:case"end":return i.stop()}},C)}));function v(){return l.apply(this,arguments)}return v}()}}}},45791:function(a,t,n){"use strict";n.r(t);var o=n(70190),e=n(75271),m=n(90142),d=n(99335),u=n(69714),c=n(52676),b=(0,e.memo)(function(l){var v=l.editing,C=l.onChange,M=l.onEditingChange,r=l.text,P=l.message,i=l.placement,x=l.messageExtra,g=l.renderMessage,j=l.type,k=l.primary,s=l.onDoubleClick,L=l.fontSize,S=l.markdownProps,F=l.markdownClassname,D=(0,u.useStyles)({editing:v,placement:i,primary:k,type:j}),E=D.cx,y=D.styles,p=(0,o.F)(),h=p.mobile,A=(0,c.jsx)(d.default,{classNames:{input:y.editingInput,markdown:F},editButtonSize:"small",editing:v,fontSize:L,fullFeaturedCodeBlock:!0,markdownProps:S,onChange:C,onEditingChange:M,openModal:h?v:void 0,text:r,value:P?String(P).trim():""}),f=g?g(A):A;return(0,c.jsxs)(m.D,{className:E(y.message,v&&y.editingContainer),onDoubleClick:s,children:[f,x&&!v?(0,c.jsx)("div",{className:y.messageExtra,children:x}):null]})});t.default=b},93576:function(a,t,n){"use strict";n.r(t),n.d(t,{avatar:function(){return u},dropdownMenu:function(){return b},items:function(){return c}});var o=n(12643),e=n(75802),m=n(61069),d=n(32905),u={avatar:"\u{1F60E}",backgroundColor:"#E8DA5A",title:"Advertiser"},c=[{icon:o.Z,key:"edit",label:"Edit"}],b=[{icon:e.Z,key:"copy",label:"Copy"},{icon:m.Z,key:"regenerate",label:"Regenerate"},{type:"divider"},{icon:d.Z,key:"delete",label:"Delete"}]},48009:function(a,t,n){"use strict";n.r(t);var o=n(26068),e=n.n(o),m=n(67825),d=n.n(m),u=n(62231),c=n(17757),b=n(22809),l=n(90462),v=n(61397),C=n(15708),M=n(70190),r=n(75271),P=n(90142),i=n(45791),x=n(52676),g=["avatarAddon","onAvatarClick","avatarProps","actions","className","primary","loading","message","placement","type","avatar","error","showTitle","time","editing","onChange","onEditingChange","messageExtra","renderMessage","text","errorMessage","onDoubleClick","fontSize","markdownProps","markdownClassname"],j=32,k=(0,r.memo)(function(s){var L=s.avatarAddon,S=s.onAvatarClick,F=s.avatarProps,D=s.actions,E=s.className,y=s.primary,p=s.loading,h=s.message,A=s.placement,f=A===void 0?"left":A,I=s.type,O=I===void 0?"block":I,R=s.avatar,W=s.error,B=s.showTitle,$=s.time,T=s.editing,K=s.onChange,w=s.onEditingChange,z=s.messageExtra,U=s.renderMessage,N=s.text,H=s.errorMessage,Z=s.onDoubleClick,_=s.fontSize,J=s.markdownProps,X=s.markdownClassname,Y=d()(s,g),q=(0,M.F)(),G=q.mobile,Q=(0,C.useStyles)({editing:T,placement:f,primary:y,showTitle:B,time:$,title:R.title,type:O}),nn=Q.cx,V=Q.styles;return(0,x.jsxs)(P.D,e()(e()({className:nn(V.container,E),direction:f==="left"?"horizontal":"horizontal-reverse",gap:G?6:12},Y),{},{children:[(0,x.jsx)(c.default,e()(e()({},F),{},{addon:L,avatar:R,loading:p,onClick:S,placement:f,size:G?j:void 0})),(0,x.jsxs)(P.D,{align:f==="left"?"flex-start":"flex-end",className:V.messageContainer,children:[(0,x.jsx)(v.default,{avatar:R,placement:f,showTitle:B,time:$}),(0,x.jsxs)(P.D,{align:f==="left"?"flex-start":"flex-end",className:V.messageContent,direction:O==="block"?f==="left"?"horizontal":"horizontal-reverse":"vertical",gap:8,children:[W?(0,x.jsx)(l.default,{error:W,message:H,placement:f}):(0,x.jsx)(i.default,{editing:T,fontSize:_,markdownClassname:X,markdownProps:J,message:h,messageExtra:z,onChange:K,onDoubleClick:Z,onEditingChange:w,placement:f,primary:y,renderMessage:U,text:N,type:O}),(0,x.jsx)(u.default,{actions:D,editing:T,placement:f,type:O})]})]}),G&&O==="block"&&(0,x.jsx)(b.default,{borderSpacing:j})]}))});t.default=k},69714:function(a,t,n){"use strict";n.r(t),n.d(t,{useStyles:function(){return F}});var o=n(53649),e=n.n(o),m=n(69049),d,u,c,b,l,v,C,M,r,P,i,x,g,j,k,s,L,S,F=(0,m.kc)(function(D,E){var y=D.cx,p=D.css,h=D.token,A=D.isDarkMode,f=D.responsive,I=E.placement,O=E.type,R=E.title,W=E.primary,B=E.avatarSize,$=E.editing,T=E.time,K=p(d||(d=e()([`
      padding-block: 8px;
      padding-inline: 12px;

      background-color: `,`;
      border-radius: `,`px;

      transition: background-color 100ms `,`;
    `])),W?A?h.colorFill:h.colorBgElevated:A?h.colorFillSecondary:h.colorBgContainer,h.borderRadiusLG,h.motionEaseOut),w=p(u||(u=e()([`
      padding-block-start: `,`;
    `])),R?0:"6px"),z=p(c||(c=e()([`
      margin-block-end: -16px;
      transition: background-color 100ms `,`;
    `])),h.motionEaseOut),U=O==="block"?K:w,N=$&&p(b||(b=e()([`
        width: 100%;
      `])));return{actions:y(p(l||(l=e()([`
          flex: none;
          align-self: `,`;
          justify-content: `,`;
        `])),O==="block"?"flex-end":I==="left"?"flex-start":"flex-end",I==="left"?"flex-end":"flex-start"),$&&p(v||(v=e()([`
            pointer-events: none !important;
            opacity: 0 !important;
          `])))),avatarContainer:p(C||(C=e()([`
        position: relative;
        flex: none;
        width: `,`px;
        height: `,`px;
      `])),B,B),avatarGroupContainer:p(M||(M=e()([`
        width: `,`px;
      `])),B),container:y(O==="pure"&&z,p(r||(r=e()([`
          position: relative;
          width: 100%;
          max-width: 100vw;
          padding: 16px;

          time {
            display: inline-block;
            white-space: nowrap;
          }

          div[role='menubar'] {
            display: flex;
          }

          time,
          div[role='menubar'] {
            pointer-events: none;
            opacity: 0;
            transition: opacity 200ms `,`;
          }

          &:hover {
            time,
            div[role='menubar'] {
              pointer-events: unset;
              opacity: 1;
            }
          }

          `,` {
            padding-block: `,`;
            padding-inline: 8px;
          }
        `])),h.motionEaseOut,f.mobile,O==="pure"?"12px":"6px")),editingContainer:y(N,p(P||(P=e()([`
          padding-block: 8px 12px;
          padding-inline: 12px;
          border: 1px solid `,`;

          &:active,
          &:hover {
            border-color: `,`;
          }
        `])),h.colorBorderSecondary,h.colorBorder),O==="pure"&&p(i||(i=e()([`
            background: `,`;
            border-radius: `,`px;
          `])),h.colorFillQuaternary,h.borderRadius)),editingInput:p(x||(x=e()([`
        width: 100%;
      `]))),errorContainer:p(g||(g=e()([`
        position: relative;
        overflow: hidden;
        width: 100%;
      `]))),loading:p(j||(j=e()([`
        position: absolute;
        inset-block-end: 0;
        inset-inline: `,`
          `,`;

        width: 16px;
        height: 16px;

        color: `,`;

        background: `,`;
        border-radius: 50%;
      `])),I==="right"?"-4px":"unset",I==="left"?"-4px":"unset",h.colorBgLayout,h.colorPrimary),message:y(U,p(k||(k=e()([`
          position: relative;
          overflow: hidden;
          max-width: 100%;

          `,` {
            width: 100%;
          }
        `])),f.mobile)),messageContainer:y(N,p(s||(s=e()([`
          position: relative;
          overflow: hidden;
          max-width: 100%;
          margin-block-start: `,`px;

          `,` {
            overflow-x: auto;
          }
        `])),T?-16:0,f.mobile)),messageContent:y(N,p(L||(L=e()([`
          position: relative;
          overflow: hidden;
          max-width: 100%;

          `,` {
            flex-direction: column !important;
          }
        `])),f.mobile)),messageExtra:y("message-extra"),name:p(S||(S=e()([`
        pointer-events: none;

        margin-block-end: 6px;

        font-size: 12px;
        line-height: 1;
        color: `,`;
        text-align: `,`;
      `])),h.colorTextDescription,I==="left"?"left":"right")}})},59529:function(a,t,n){"use strict";n.r(t),n.d(t,{code:function(){return m},content:function(){return o},content2:function(){return e}});var o=`# This is an H1
## This is an H2
### This is an H3
#### This is an H4
##### This is an H5

The point of reference-style links is not that they\u2019re easier to write. The point is that with reference-style links, your document source is vastly more readable. Compare the above examples: using reference-style links, the paragraph itself is only 81 characters long; with inline-style links, it\u2019s 176 characters; and as raw \`HTML\`, it\u2019s 234 characters. In the raw \`HTML\`, there\u2019s more markup than there is text.

---

> This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,
> consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.
> Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.
>
> Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse
> id sem consectetuer libero luctus adipiscing.

---

an example | *an example* | **an example**

---

![](https://gw.alipayobjects.com/zos/kitchen/sLO%24gbrQtp/lobe-chat.webp)

![](https://gw.alipayobjects.com/zos/kitchen/8Ab%24hLJ5ur/cover.webp)

<video
  poster="https://gw.alipayobjects.com/zos/kitchen/sLO%24gbrQtp/lobe-chat.webp"
  src="https://github.com/lobehub/lobe-chat/assets/28616219/f29475a3-f346-4196-a435-41a6373ab9e2"/>

---

1. Bird
1. McHale
1. Parish
    1. Bird
    1. McHale
        1. Parish

---

- Red
- Green
- Blue
    - Red
    - Green
        - Blue

---

This is [an example](http://example.com/ "Title") inline link.

<http://example.com/>


| title | title | title |
| --- | --- | --- |
| content | content | content |


\`\`\`bash
$ pnpm install
\`\`\`


\`\`\`javascript
import { renderHook } from '@testing-library/react-hooks';
import { act } from 'react-dom/test-utils';
import { useDropNodeOnCanvas } from './useDropNodeOnCanvas';
\`\`\`

---

\u4EE5\u4E0B\u662F\u4E00\u6BB5Markdown\u683C\u5F0F\u7684LaTeX\u6570\u5B66\u516C\u5F0F\uFF1A

\u6211\u662F\u4E00\u4E2A\u884C\u5185\u516C\u5F0F\uFF1A$E=mc^2$

\u6211\u662F\u4E00\u4E2A\u72EC\u7ACB\u516C\u5F0F\uFF1A
$$
\\sum_{i=1}^{n} x_i = x_1 + x_2 + \\ldots + x_n
$$

\u6211\u662F\u4E00\u4E2A\u5E26\u6709\u5206\u5F0F\u7684\u516C\u5F0F\uFF1A
$$
\\frac{{n!}}{{k!(n-k)!}} = \\binom{n}{k}
$$

\u6211\u662F\u4E00\u4E2A\u5E26\u6709\u4E0A\u4E0B\u6807\u7684\u516C\u5F0F\uFF1A
$$
x^{2} + y^{2} = r^{2}
$$

\u6211\u662F\u4E00\u4E2A\u5E26\u6709\u79EF\u5206\u7B26\u53F7\u7684\u516C\u5F0F\uFF1A
$$
\\int_{a}^{b} f(x) \\, dx
$$

---

\u6211\u662F\u4E00\u4E2A\u5D4C\u5957\u6D4B\u8BD5\uFF1A
\`\`\`
$1
\`\`\`
`,e=`# Customize Markdown Components
#### Customize Anchor Behavior
This is [an example](http://example.com/ "Title") inline link.

<http://example.com/>


#### Customize Hr

---

#### Customize Image Display

![](https://gw.alipayobjects.com/zos/kitchen/sLO%24gbrQtp/lobe-chat.webp)
`,m=`

#### transformerNotationDiff

\`\`\`ts
export function foo() {
  console.log('hewwo') // [!code --]
  console.log('hello') // [!code ++]
}
\`\`\`

#### transformerNotationHighlight

\`\`\`ts
export function foo() {
  console.log('Highlighted') // [!code highlight]
}
\`\`\`

#### transformerNotationWordHighlight

\`\`\`ts
export function foo() { // [!code word:Hello]
  const msg = 'Hello World'
  console.log(msg) // \u6253\u5370 Hello World
}
\`\`\`

#### transformerNotationFocus

\`\`\`ts
export function foo() {
  console.log('Focused') // [!code focus]
}
\`\`\`

#### transformerNotationErrorLevel

\`\`\`ts
export function foo() {
  console.error('Error') // [!code error]
  console.warn('Warning') // [!code warning]
}
\`\`\`
`},99335:function(a,t,n){"use strict";n.r(t);var o=n(26068),e=n.n(o),m=n(48305),d=n.n(m),u=n(50119),c=n(76079),b=n(72566),l=n(75271),v=n(65720),C=n(52676),M=(0,l.memo)(function(r){var P=r.value,i=r.onChange,x=r.classNames,g=x===void 0?{}:x,j=r.onEditingChange,k=r.editing,s=r.openModal,L=r.onOpenChange,S=r.placeholder,F=r.showEditWhenEmpty,D=F===void 0?!1:F,E=r.styles,y=r.height,p=r.inputType,h=r.editButtonSize,A=r.text,f=r.fullFeaturedCodeBlock,I=r.model,O=r.fontSize,R=r.markdownProps,W=(0,v.default)(!1,{onChange:j,value:k}),B=d()(W,2),$=B[0],T=B[1],K=(0,v.default)(!1,{onChange:L,value:s}),w=d()(K,2),z=w[0],U=w[1],N=y==="auto",H=(0,C.jsx)(u.Z,{className:g==null?void 0:g.input,classNames:{textarea:g==null?void 0:g.textarea},defaultValue:P,editButtonSize:h,height:y,onCancel:function(){return T(!1)},onConfirm:function(_){i==null||i(_),T(!1)},placeholder:S,style:E==null?void 0:E.input,text:A,textareaClassname:g==null?void 0:g.input,type:p});return!P&&D?H:(0,C.jsxs)(C.Fragment,{children:[!z&&$?H:(0,C.jsx)(c.Z,e()(e()({className:g==null?void 0:g.markdown,fontSize:O,fullFeaturedCodeBlock:f,style:e()({height:N?"unset":y},E==null?void 0:E.markdown),variant:"chat"},R),{},{children:P||S||""})),z&&(0,C.jsx)(b.Z,{editing:$,extra:I==null?void 0:I.extra,footer:I==null?void 0:I.footer,height:y,onChange:i,onEditingChange:T,onOpenChange:function(_){U(_),T(!1)},open:z,placeholder:S,text:A,value:P})]})});t.default=M},82517:function(a,t,n){"use strict";n.r(t),n.d(t,{StyleProvider:function(){return o.V9},ThemeProvider:function(){return o.f6},createGlobalStyle:function(){return o.vJ},createInstance:function(){return o.Fs},createStyles:function(){return o.kc},createStylish:function(){return o.Yz},css:function(){return o.iv},cx:function(){return o.cx},extractStaticStyle:function(){return o.Y2},injectGlobal:function(){return o.hi},keyframes:function(){return o.F4},setupStyled:function(){return o.Us},styleManager:function(){return o.Rr},useAntdStylish:function(){return e.n},useAntdTheme:function(){return m.A},useAntdToken:function(){return d.S},useResponsive:function(){return u.F},useTheme:function(){return o.Fg},useThemeMode:function(){return c.r}});var o=n(69049),e=n(1040),m=n(87500),d=n(90556),u=n(70190),c=n(54106)},89835:function(a,t,n){"use strict";n.r(t),n.d(t,{texts:function(){return e}});var o=n(26302);const e=[]},81330:function(a,t){"use strict";t.Z=`import { MarkdownProps } from '@lobehub/ui';
import { useResponsive } from 'antd-style';
import { type ReactNode, memo } from 'react';
import { Flexbox } from 'react-layout-kit';

import EditableMessage from '@/EditableMessage';

import { useStyles } from '../style';
import { ChatItemProps } from '../type';

export interface MessageContentProps {
  editing?: ChatItemProps['editing'];
  fontSize?: number;
  message?: ReactNode;
  messageExtra?: ChatItemProps['messageExtra'];
  onChange?: ChatItemProps['onChange'];
  onDoubleClick?: ChatItemProps['onDoubleClick'];
  onEditingChange?: ChatItemProps['onEditingChange'];
  placement?: ChatItemProps['placement'];
  primary?: ChatItemProps['primary'];
  renderMessage?: ChatItemProps['renderMessage'];
  text?: ChatItemProps['text'];
  type?: ChatItemProps['type'];
  markdownProps?: MarkdownProps;
  markdownClassname?: string;
}

const MessageContent = memo<MessageContentProps>(
  ({
    editing,
    onChange,
    onEditingChange,
    text,
    message,
    placement,
    messageExtra,
    renderMessage,
    type,
    primary,
    onDoubleClick,
    fontSize,
    markdownProps,
    markdownClassname,
  }) => {
    const { cx, styles } = useStyles({ editing, placement, primary, type });
    const { mobile } = useResponsive();

    const content = (
      <EditableMessage
        classNames={{ input: styles.editingInput, markdown: markdownClassname }}
        editButtonSize={'small'}
        editing={editing}
        fontSize={fontSize}
        fullFeaturedCodeBlock
        markdownProps={markdownProps}
        onChange={onChange}
        onEditingChange={onEditingChange}
        openModal={mobile ? editing : undefined}
        text={text}
        value={message ? String(message).trim() : ''}
      />
    );
    const messageContent = renderMessage ? renderMessage(content) : content;

    return (
      <Flexbox
        className={cx(styles.message, editing && styles.editingContainer)}
        onDoubleClick={onDoubleClick}
      >
        {messageContent}
        {messageExtra && !editing ? (
          <div className={styles.messageExtra}>{messageExtra}</div>
        ) : null}
      </Flexbox>
    );
  }
);

export default MessageContent;
`},81216:function(a,t){"use strict";t.Z=`import { Highlighter, StoryBook, useControls, useCreateStore } from '@lobehub/ui';

import ChatItem, { ChatItemProps } from '..';
import { avatar } from './data';

const demoError = {
  details: {
    exception:
      'Validation filter failedId-f5aab7304f6c754804f70000Id-f5aab7304f6c754804f70000Id-f5aab7304f6c754804f70000Id-f5aab7304f6c754804f70000Id-f5aab7304f6c754804f70000Id-f5aab7304f6c754804f70000',
    msgId:
      'Id-f5aab7304f6c754804f70000Id-f5aab7304f6c754804f70000Id-f5aab7304f6c754804f70000Id-f5aab7304f6c754804f70000Id-f5aab7304f6c754804f70000',
  },
  reasons: [
    {
      language: 'en',
      message: 'Validation filter failed',
    },
  ],
};
export default () => {
  const store = useCreateStore();
  const control: ChatItemProps['error'] | any = useControls(
    {
      description: '',
      message: 'Error',
      type: {
        options: ['success', 'info', 'warning', 'error'],
        value: 'error',
      },
    },
    { store }
  );

  return (
    <StoryBook levaStore={store}>
      <ChatItem
        avatar={avatar}
        error={control}
        errorMessage={
          <Highlighter copyButtonSize={'small'} language={'json'} type={'pure'}>
            {JSON.stringify(demoError, null, 2)}
          </Highlighter>
        }
      />
    </StoryBook>
  );
};
`},16251:function(a,t){"use strict";t.Z=`import { ActionIconGroup, StoryBook, useControls, useCreateStore } from '@lobehub/ui';
import { useState } from 'react';

import ChatItem, { ChatItemProps } from '..';
import { content } from '../../EditableMessage/demos/data';
import { avatar, dropdownMenu, items } from './data';

export default () => {
  const [edit, setEdit] = useState(false);
  const store = useCreateStore();
  const control: ChatItemProps | any = useControls(
    {
      loading: false,
      message: {
        rows: true,
        value: content,
      },
      placement: {
        options: ['left', 'right'],
        value: 'left',
      },
      primary: false,
      showTitle: false,
      time: 1_686_538_950_084,
      type: {
        options: ['block', 'pure'],
        value: 'block',
      },
      markdownProps: {
        fontSize: 15,
        lineHeight: 1.625,
        headerMultiple: 0,
      },
      markdownClassname: 'customMarkdown',
    },
    { store }
  );

  return (
    <StoryBook levaStore={store}>
      <ChatItem
        {...control}
        actions={
          <ActionIconGroup
            dropdownMenu={dropdownMenu}
            items={items}
            onActionClick={action => {
              if (action.key === 'edit') {
                setEdit(true);
              }
            }}
            type="ghost"
          />
        }
        avatar={avatar}
        editing={edit}
        onEditingChange={setEdit}
      />
    </StoryBook>
  );
};
`},57687:function(a,t){"use strict";t.Z=`import { type ActionIconGroupProps, MetaData } from '@lobehub/ui';
import { Copy, Edit, RotateCw, Trash } from 'lucide-react';

export const avatar: MetaData = {
  avatar: '\u{1F60E}',
  backgroundColor: '#E8DA5A',
  title: 'Advertiser',
};

export const items: ActionIconGroupProps['items'] = [
  {
    icon: Edit,
    key: 'edit',
    label: 'Edit',
  },
];

export const dropdownMenu: ActionIconGroupProps['dropdownMenu'] = [
  {
    icon: Copy,
    key: 'copy',
    label: 'Copy',
  },
  {
    icon: RotateCw,
    key: 'regenerate',
    label: 'Regenerate',
  },
  {
    type: 'divider',
  },
  {
    icon: Trash,
    key: 'delete',
    label: 'Delete',
  },
];
`},20632:function(a,t){"use strict";t.Z=`import { ActionIconGroup, StoryBook, useControls, useCreateStore } from '@lobehub/ui';
import { useState } from 'react';

import ChatItem, { ChatItemProps } from '..';
import { avatar, dropdownMenu, items } from './data';

export default () => {
  const [edit, setEdit] = useState(false);
  const store = useCreateStore();
  const control: ChatItemProps | any = useControls(
    {
      loading: false,
      message: {
        rows: true,
        value:
          "\u8981\u4F7F\u7528 dayjs \u7684 fromNow \u51FD\u6570\uFF0C\u9700\u8981\u5148\u5B89\u88C5 dayjs \u5E93\u5E76\u5728\u4EE3\u7801\u4E2D\u5F15\u5165\u5B83\u3002\u7136\u540E\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u8BED\u6CD5\u6765\u83B7\u53D6\u5F53\u524D\u65F6\u95F4\u4E0E\u7ED9\u5B9A\u65F6\u95F4\u4E4B\u95F4\u7684\u76F8\u5BF9\u65F6\u95F4\uFF1A\\n\\n\`\`\`javascript\\ndayjs().fromNow();\\ndayjs('2021-05-01').fromNow();\\n\`\`\`",
      },
      placement: {
        options: ['left', 'right'],
        value: 'left',
      },
      primary: false,
      showTitle: false,
      time: 1_686_538_950_084,
      type: {
        options: ['block', 'pure'],
        value: 'block',
      },
    },
    { store }
  );

  return (
    <StoryBook levaStore={store}>
      <ChatItem
        {...control}
        actions={
          <ActionIconGroup
            dropdownMenu={dropdownMenu}
            items={items}
            onActionClick={action => {
              if (action.key === 'edit') {
                setEdit(true);
              }
            }}
            type="ghost"
          />
        }
        avatar={avatar}
        editing={edit}
        onEditingChange={setEdit}
      />
    </StoryBook>
  );
};
`},47335:function(a,t){"use strict";t.Z=`'use client';

import Actions from '@lobehub/ui/es/ChatItem/components/Actions';
import Avatar from '@lobehub/ui/es/ChatItem/components/Avatar';
import BorderSpacing from '@lobehub/ui/es/ChatItem/components/BorderSpacing';
import ErrorContent from '@lobehub/ui/es/ChatItem/components/ErrorContent';
import Title from '@lobehub/ui/es/ChatItem/components/Title';
import { useStyles } from '@lobehub/ui/es/ChatItem/style';
import { useResponsive } from 'antd-style';
import { memo } from 'react';
import { Flexbox } from 'react-layout-kit';

import MessageContent from './components/MessageContent';
import { ChatItemProps } from './type';

const MOBILE_AVATAR_SIZE = 32;

const ChatItem = memo<ChatItemProps>(
  ({
    avatarAddon,
    onAvatarClick,
    avatarProps,
    actions,
    className,
    primary,
    loading,
    message,
    placement = 'left',
    type = 'block',
    avatar,
    error,
    showTitle,
    time,
    editing,
    onChange,
    onEditingChange,
    messageExtra,
    renderMessage,
    text,
    errorMessage,
    onDoubleClick,
    fontSize,
    markdownProps,
    markdownClassname,
    ...rest
  }) => {
    const { mobile } = useResponsive();
    const { cx, styles } = useStyles({
      editing,
      placement,
      primary,
      showTitle,
      time,
      title: avatar.title,
      type,
    });

    return (
      <Flexbox
        className={cx(styles.container, className)}
        direction={placement === 'left' ? 'horizontal' : 'horizontal-reverse'}
        gap={mobile ? 6 : 12}
        {...rest}
      >
        <Avatar
          {...avatarProps}
          addon={avatarAddon}
          avatar={avatar}
          loading={loading}
          onClick={onAvatarClick}
          placement={placement}
          size={mobile ? MOBILE_AVATAR_SIZE : undefined}
        />
        <Flexbox
          align={placement === 'left' ? 'flex-start' : 'flex-end'}
          className={styles.messageContainer}
        >
          <Title avatar={avatar} placement={placement} showTitle={showTitle} time={time} />
          <Flexbox
            align={placement === 'left' ? 'flex-start' : 'flex-end'}
            className={styles.messageContent}
            direction={
              // eslint-disable-next-line no-nested-ternary
              type === 'block'
                ? placement === 'left'
                  ? 'horizontal'
                  : 'horizontal-reverse'
                : 'vertical'
            }
            gap={8}
          >
            {error ? (
              <ErrorContent error={error} message={errorMessage} placement={placement} />
            ) : (
              <MessageContent
                editing={editing}
                fontSize={fontSize}
                markdownClassname={markdownClassname}
                markdownProps={markdownProps}
                message={message}
                messageExtra={messageExtra}
                onChange={onChange}
                onDoubleClick={onDoubleClick}
                onEditingChange={onEditingChange}
                placement={placement}
                primary={primary}
                renderMessage={renderMessage}
                text={text}
                type={type}
              />
            )}
            <Actions actions={actions} editing={editing} placement={placement} type={type} />
          </Flexbox>
        </Flexbox>
        {mobile && type === 'block' && <BorderSpacing borderSpacing={MOBILE_AVATAR_SIZE} />}
      </Flexbox>
    );
  }
);

export default ChatItem;

export type { ChatItemProps } from './type';
`},77459:function(a,t){"use strict";t.Z=`/* eslint-disable no-nested-ternary */
import { createStyles } from 'antd-style';

export const useStyles = createStyles(
  (
    { cx, css, token, isDarkMode, responsive },
    {
      placement,
      type,
      title,
      primary,
      avatarSize,
      editing,
      time,
    }: {
      avatarSize?: number;
      editing?: boolean;
      placement?: 'left' | 'right';
      primary?: boolean;
      showTitle?: boolean;
      time?: number;
      title?: string;
      type?: 'block' | 'pure';
    }
  ) => {
    const blockStylish = css\`
      padding-block: 8px;
      padding-inline: 12px;

      background-color: \${primary
        ? isDarkMode
          ? token.colorFill
          : token.colorBgElevated
        : isDarkMode
          ? token.colorFillSecondary
          : token.colorBgContainer};
      border-radius: \${token.borderRadiusLG}px;

      transition: background-color 100ms \${token.motionEaseOut};
    \`;

    const pureStylish = css\`
      padding-block-start: \${title ? 0 : '6px'};
    \`;

    const pureContainerStylish = css\`
      margin-block-end: -16px;
      transition: background-color 100ms \${token.motionEaseOut};
    \`;

    const typeStylish = type === 'block' ? blockStylish : pureStylish;

    const editingStylish =
      editing &&
      css\`
        width: 100%;
      \`;

    return {
      actions: cx(
        css\`
          flex: none;
          align-self: \${type === 'block'
            ? 'flex-end'
            : placement === 'left'
              ? 'flex-start'
              : 'flex-end'};
          justify-content: \${placement === 'left' ? 'flex-end' : 'flex-start'};
        \`,
        editing &&
          css\`
            pointer-events: none !important;
            opacity: 0 !important;
          \`
      ),
      avatarContainer: css\`
        position: relative;
        flex: none;
        width: \${avatarSize}px;
        height: \${avatarSize}px;
      \`,
      avatarGroupContainer: css\`
        width: \${avatarSize}px;
      \`,
      container: cx(
        type === 'pure' && pureContainerStylish,
        css\`
          position: relative;
          width: 100%;
          max-width: 100vw;
          padding: 16px;

          time {
            display: inline-block;
            white-space: nowrap;
          }

          div[role='menubar'] {
            display: flex;
          }

          time,
          div[role='menubar'] {
            pointer-events: none;
            opacity: 0;
            transition: opacity 200ms \${token.motionEaseOut};
          }

          &:hover {
            time,
            div[role='menubar'] {
              pointer-events: unset;
              opacity: 1;
            }
          }

          \${responsive.mobile} {
            padding-block: \${type === 'pure' ? '12px' : '6px'};
            padding-inline: 8px;
          }
        \`
      ),
      editingContainer: cx(
        editingStylish,
        css\`
          padding-block: 8px 12px;
          padding-inline: 12px;
          border: 1px solid \${token.colorBorderSecondary};

          &:active,
          &:hover {
            border-color: \${token.colorBorder};
          }
        \`,
        type === 'pure' &&
          css\`
            background: \${token.colorFillQuaternary};
            border-radius: \${token.borderRadius}px;
          \`
      ),
      editingInput: css\`
        width: 100%;
      \`,
      errorContainer: css\`
        position: relative;
        overflow: hidden;
        width: 100%;
      \`,

      loading: css\`
        position: absolute;
        inset-block-end: 0;
        inset-inline: \${placement === 'right' ? '-4px' : 'unset'}
          \${placement === 'left' ? '-4px' : 'unset'};

        width: 16px;
        height: 16px;

        color: \${token.colorBgLayout};

        background: \${token.colorPrimary};
        border-radius: 50%;
      \`,
      message: cx(
        typeStylish,
        css\`
          position: relative;
          overflow: hidden;
          max-width: 100%;

          \${responsive.mobile} {
            width: 100%;
          }
        \`
      ),
      messageContainer: cx(
        editingStylish,
        css\`
          position: relative;
          overflow: hidden;
          max-width: 100%;
          margin-block-start: \${time ? -16 : 0}px;

          \${responsive.mobile} {
            overflow-x: auto;
          }
        \`
      ),
      messageContent: cx(
        editingStylish,
        css\`
          position: relative;
          overflow: hidden;
          max-width: 100%;

          \${responsive.mobile} {
            flex-direction: column !important;
          }
        \`
      ),
      messageExtra: cx('message-extra'),
      name: css\`
        pointer-events: none;

        margin-block-end: 6px;

        font-size: 12px;
        line-height: 1;
        color: \${token.colorTextDescription};
        text-align: \${placement === 'left' ? 'left' : 'right'};
      \`,
    };
  }
);
`},35983:function(a,t){"use strict";t.Z=`export const content = \`# This is an H1
## This is an H2
### This is an H3
#### This is an H4
##### This is an H5

The point of reference-style links is not that they\u2019re easier to write. The point is that with reference-style links, your document source is vastly more readable. Compare the above examples: using reference-style links, the paragraph itself is only 81 characters long; with inline-style links, it\u2019s 176 characters; and as raw \\\`HTML\\\`, it\u2019s 234 characters. In the raw \\\`HTML\\\`, there\u2019s more markup than there is text.

---

> This is a blockquote with two paragraphs. Lorem ipsum dolor sit amet,
> consectetuer adipiscing elit. Aliquam hendrerit mi posuere lectus.
> Vestibulum enim wisi, viverra nec, fringilla in, laoreet vitae, risus.
>
> Donec sit amet nisl. Aliquam semper ipsum sit amet velit. Suspendisse
> id sem consectetuer libero luctus adipiscing.

---

an example | *an example* | **an example**

---

![](https://gw.alipayobjects.com/zos/kitchen/sLO%24gbrQtp/lobe-chat.webp)

![](https://gw.alipayobjects.com/zos/kitchen/8Ab%24hLJ5ur/cover.webp)

<video
  poster="https://gw.alipayobjects.com/zos/kitchen/sLO%24gbrQtp/lobe-chat.webp"
  src="https://github.com/lobehub/lobe-chat/assets/28616219/f29475a3-f346-4196-a435-41a6373ab9e2"/>

---

1. Bird
1. McHale
1. Parish
    1. Bird
    1. McHale
        1. Parish

---

- Red
- Green
- Blue
    - Red
    - Green
        - Blue

---

This is [an example](http://example.com/ "Title") inline link.

<http://example.com/>


| title | title | title |
| --- | --- | --- |
| content | content | content |


\\\`\\\`\\\`bash
$ pnpm install
\\\`\\\`\\\`


\\\`\\\`\\\`javascript
import { renderHook } from '@testing-library/react-hooks';
import { act } from 'react-dom/test-utils';
import { useDropNodeOnCanvas } from './useDropNodeOnCanvas';
\\\`\\\`\\\`

---

\u4EE5\u4E0B\u662F\u4E00\u6BB5Markdown\u683C\u5F0F\u7684LaTeX\u6570\u5B66\u516C\u5F0F\uFF1A

\u6211\u662F\u4E00\u4E2A\u884C\u5185\u516C\u5F0F\uFF1A$E=mc^2$

\u6211\u662F\u4E00\u4E2A\u72EC\u7ACB\u516C\u5F0F\uFF1A
$$
\\\\sum_{i=1}^{n} x_i = x_1 + x_2 + \\\\ldots + x_n
$$

\u6211\u662F\u4E00\u4E2A\u5E26\u6709\u5206\u5F0F\u7684\u516C\u5F0F\uFF1A
$$
\\\\frac{{n!}}{{k!(n-k)!}} = \\\\binom{n}{k}
$$

\u6211\u662F\u4E00\u4E2A\u5E26\u6709\u4E0A\u4E0B\u6807\u7684\u516C\u5F0F\uFF1A
$$
x^{2} + y^{2} = r^{2}
$$

\u6211\u662F\u4E00\u4E2A\u5E26\u6709\u79EF\u5206\u7B26\u53F7\u7684\u516C\u5F0F\uFF1A
$$
\\\\int_{a}^{b} f(x) \\\\, dx
$$

---

\u6211\u662F\u4E00\u4E2A\u5D4C\u5957\u6D4B\u8BD5\uFF1A
\\\`\\\`\\\`
$1
\\\`\\\`\\\`
\`;

export const content2 = \`# Customize Markdown Components
#### Customize Anchor Behavior
This is [an example](http://example.com/ "Title") inline link.

<http://example.com/>


#### Customize Hr

---

#### Customize Image Display

![](https://gw.alipayobjects.com/zos/kitchen/sLO%24gbrQtp/lobe-chat.webp)
\`;

export const code = \`

#### transformerNotationDiff

\\\`\\\`\\\`ts
export function foo() {
  console.log('hewwo') // [!code --]
  console.log('hello') // [!code ++]
}
\\\`\\\`\\\`

#### transformerNotationHighlight

\\\`\\\`\\\`ts
export function foo() {
  console.log('Highlighted') // [!code highlight]
}
\\\`\\\`\\\`

#### transformerNotationWordHighlight

\\\`\\\`\\\`ts
export function foo() { // [!code word:Hello]
  const msg = 'Hello World'
  console.log(msg) // \u6253\u5370 Hello World
}
\\\`\\\`\\\`

#### transformerNotationFocus

\\\`\\\`\\\`ts
export function foo() {
  console.log('Focused') // [!code focus]
}
\\\`\\\`\\\`

#### transformerNotationErrorLevel

\\\`\\\`\\\`ts
export function foo() {
  console.error('Error') // [!code error]
  console.warn('Warning') // [!code warning]
}
\\\`\\\`\\\`
\`;
`},6020:function(a,t,n){"use strict";n.r(t),n.d(t,{Center:function(){return o.Z},Flexbox:function(){return e.D}});var o=n(55471),e=n(90142)},67825:function(a,t,n){var o=n(64382);function e(m,d){if(m==null)return{};var u=o(m,d),c,b;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(m);for(b=0;b<l.length;b++)c=l[b],!(d.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(m,c)&&(u[c]=m[c])}return u}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports},64382:function(a){function t(n,o){if(n==null)return{};var e={},m=Object.keys(n),d,u;for(u=0;u<m.length;u++)d=m[u],!(o.indexOf(d)>=0)&&(e[d]=n[d]);return e}a.exports=t,a.exports.__esModule=!0,a.exports.default=a.exports},53649:function(a){function t(n,o){return o||(o=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(o)}}))}a.exports=t,a.exports.__esModule=!0,a.exports.default=a.exports}}]);
